const apiUrl = 'https://zylalabs.com/api/1882/chat+gpt+text+detection+api/1577/text+analysis'; // Chat GPT Text Detection API endpoint URL
const apiKey = 'Bearer 2171|cmAru5ixjq8y3zlcBdU3Ae1wuMc8YFe37q9mDIvK'; // API key


// Sample text for analysis
const textToAnalyze = 'C++ is a high-level, general-purpose programming language that was developed by Bjarne Stroustrup in 1983 as an extension of the C programming language. It is an object-oriented language that allows developers to write efficient and portable code that can run on a wide range of platforms, from embedded systems to supercomputers. In this article, we will discuss some of the key features and benefits of C++, as well as its various applications and use cases.'; //Replace with text output generated by Google Cloud Vision

// Create the request payload
const requestData = {
  text: textToAnalyze,
};

// Create the request headers, including the API key
const headers = {
  'Content-Type': 'application/json',
  'Authorization': apiKey,
};

// Create the fetch options for the POST request
const requestOptions = {
  method: 'POST',
  headers: headers,
  body: JSON.stringify(requestData),
};

// Make the POST request to the API
fetch(apiUrl, requestOptions)
  .then((response) => {
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }
    return response.json();
  })
  .then((data) => {
    // Handle the response data from the API
    const result = data.is_gpt_generated;

    // Get a reference to the element where you want to display the result
    const verdictElement = document.getElementById('verdict');
    const percentElement = document.getElementById('percent-err');

    // Display content based on the 'result' value
    if (result > 50) {
      verdictElement.textContent = 'Scam';
    } else if (result <= 50) {
      verdictElement.textContent = 'Real';
    }

    percentElement.textContent = result + '%';
    
  })
  .catch((error) => {
    console.error('Fetch Error:', error);
  });
